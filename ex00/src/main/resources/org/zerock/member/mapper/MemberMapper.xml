<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
  <mapper namespace="org.zerock.member.mapper.MemberMapper">


<!-- 로그인 -->
  <select id="login" resultType="org.zerock.member.vo.LoginVO">
  	select
  		m.id, m.pw, m.name, m.photo, m.gradeNo, g.gradeName
  		from member m, grade g
  	where
  		(id=#{id} and pw=#{pw})
  	and
  		(m.gradeNo = g.gradeNo)
  </select>


<!-- 아이디 중복 확인 -->
<select id="checkId" resultType="String">
	select id from member where id=#{id}
</select>

<!--  회원가입  -->
 <insert id="write">
 	insert into member (id, pw, name, gender, birth, tel, email, address)
 	values (#{id}, #{pw}, #{name}, #{gender}, #{birth}, #{tel}, #{email}, #{address})
 </insert>
 
<!-- 회원정보 보기 (페이지 따로 없음) --> 
 <select id="view" resultType="org.zerock.member.vo.MemberVO">
 select
 id, name, birth, gender, tel, email, address 
  from member where id= #{id}
 </select>
 
 
 <!-- 회원 정보 수정 -->

<update id="update">
    update member 
    set name = #{name}, birth = #{birth, jdbcType=DATE}, gender = #{gender}, address = #{address}, 
        email = #{email}, tel = #{tel}, photo = #{photo, jdbcType=VARCHAR}
    where id = #{id}
</update>

	 
  
  </mapper>

